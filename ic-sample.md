# 1.读卡函数  
  功能：读出卡内数据，包括用户卡号、气量等。  
  ```
  int __stdcall ReadGasCardshort com, long baud,short *klx, short *kzt, char *kh,char *tm, INT32 *ql, INT32 *cs,INT32 *ljgql, INT32 *bkcs, INT32 *ljyql, INT32 *syql);
  ```
  参数：
  ```
  串口号（IN）
  波特率（IN）
  卡类型（OUT）
  卡状态（OUT）
  用户卡号（OUT）
  表条码（OUT）
  气量（OUT）
  购气次数（OUT）
  累计购气量（OUT）
  补卡次数（OUT）
  表内累计用气量（OUT）
  表内剩余气量（OUT)
  ```
  返回值：
  ```
  0：操作成功。
  其它值：操作失败，见“返回值定义”。  
  ```


# 2.写新卡函数  
  功能：将开户卡或用户卡数据写入已格式化的新卡中。根据卡类型和卡状态确定写数据的格式。用户卡号、气量是必须使用的参数。  
  ```
  int __stdcall WriteNewCard(short com, INT32 baud,short klx, short kzt, unsigned char *kh,unsigned char *tm, INT32 ql, short cs,INT32 ljgql, short bkcs, INT32 ljyql); 
  ```
  参数：
  ```
  串口号（IN）
  波特率（IN）
  卡类型（IN）
  卡状态（IN）
  用户卡号（IN）
  表条码（IN）
  气量（IN）
  购气次数（IN）
  累计购气量（IN）
  补卡次数（IN）
  表内累计用气量（IN）
  ```
  返回值：
  ```
  0：操作成功；
  其它值：操作失败，见“返回值定义”。
  ```


# 3.写用户卡函数  
  功能：用于用户卡购气、退气。气量大于0代表购气，气量等于0代表退气。需要验证卡内的用户卡号和地区代码是否与传入的参数值(kh,dqdm)相符合，不符合不能进行写入操作。若卡内没有地区代码，则只需要验证用户卡号相符合。用户卡号、气量是必须使用的参数。    
  ```
  int __stdcall WriteGasCard(short com, INT32 baud, short klx, unsigned char *kh,INT16 ql,short cs,INT32 ljgql);;
  ```
  参数：
  ```
  串口号（IN）
  波特率（IN）
  卡类型（IN）
  用户卡号（IN）
  气量（IN）
  购气次数（IN）
  累计购气量（IN）
  ```
  返回值：
  ```
  0：操作成功；
  其它值：操作失败，见“返回值定义”。  
  ```


# 4.清卡函数  
  功能：将开户卡或用户卡格式化成新卡。需要验证卡内的用户卡号和地区代码是否与传入的参数值(kh,dqdm)相符合，不符合不能进行格式化操作。若卡内没有地区代码，则只需要验证用户卡号相符合。  
  ```
  int __stdcall FormatGasCard (short com, INT32 baud);
  ```
  参数：
  ```
  串口号（IN）
  波特率（IN）
  ```
  返回值：
  ```
  0：操作成功；
  其它值：操作失败，见“返回值定义”。  
  ```


# 5.判卡函数  
  功能：根据卡片中的特征信息，识别插入的卡片是否为本厂商驱动支持的开户卡或用户卡，不需要识别新卡。在读卡过程中，应避免多次尝试读卡密码造成卡报废。  
  ```
  int __stdcall CheckGasCard(__int16 com, __int32 baud);
  ```
  参数：
  ```
  串口号（IN）
  波特率（IN）  
  ```
  返回值：
  ```
  0：本厂商驱动支持的开户卡或用户卡；
  1：本厂商的工具卡；
  其它值：操作失败，见“返回值定义”。
  ```

# 6.清0卡函数  
  功能：把表上的数据清0.  
  ```
  int makeInitCard(short com, long baud,short klx,unsigned char *kh);
  ```
  参数:
  ```
  串口号(IN)
  波特率(IN)
  卡类型(IN)
  卡号(IN)
  ```
  返回值：
  ```
  0：成功
  其他值见返回定义
  ```


# 返回值：  
```
-1	不是注册用户(对于有需要注册才可以使用的动态库的厂商)
-2	端口初始化失败
-3	读设备状态失败
-4	无卡
-5	读卡密码次数失败
-6	该卡已经损坏
-7	读卡错误
-8	该卡不是用户卡
-9	核对密码错误
-10	写卡失败
-11	备份气量不正确
-12	关闭通讯端口失败
-13	该卡可能是新卡或插反
-14	该卡非本系统卡
-15	该卡不是新卡(只有写新卡函数需要返回该值。)
-16	用户卡号（地区代码）与卡内的值不匹配
-17	清卡失败
-18	气量超限
-19至-30	上位机系统保留返回值
```
